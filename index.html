<html>

<head>
    <link rel="stylesheet" href="style.css">
    <script src="https://js.stripe.com/v3"> </script>
    <title>
        Festa do Bucho
    </title>
</head>

<div>

    <body class="bg1">

        <button class="butt" id="checkout" type="button" style="
            height: 7vh;
            width: 20vh;
            align-self: center;
            background-color: rgb(147,30,21);
            border: 0.1vh solid;
            text-align: center;
            line-height: 0px;
            position: fixed;
            will-change: auto;
            border-color: rgb(1,1,1);
            left: 52%;
            top: 45%;
            -webkit-transform: translate(-50%, -50%);
            transform: translate(-50%, -50%);
            ">
            <p style=" color:white; font-size: 1.4vh; text-align: center;">Comprar Bilhete(s)!</p>
        </button>

        <input class="inputA" type="number"  id="inputA" placeholder="Bilhete Adultos" >
        <input class="inputC" type="number"  id="inputC" placeholder="Bilhete CrianÃ§as" >



        
        <script>
            
            
            var stripe = Stripe(
                "pk_live_51MT7ZiGsmOjGAvzGauMDnIifHaHb20Hk7j9oS2IxxIjJMEr3wPCtQlX6wgvcAIpSZ1sUj2UYtrBez5LF2GyeD3Cp009BarzXRE")
            document.getElementById("checkout").addEventListener("click", function (event) {
                event.preventDefault()
                number_ticket_A = document.getElementById("inputA")||0
                number_ticket_C = document.getElementById("inputC")||0
            
            
            lineItems = []
            
            if (number_ticket_A.value > 0) {
                
                lineItems.push({
                                price: "price_1Mb24BGsmOjGAvzGgjeKqDgc",
                                quantity: Number(number_ticket_A.value),
                            })
            }
            if (number_ticket_C.value > 0) {
                
                lineItems.push({
                                price: "price_1MbXiHGsmOjGAvzGuIrlEFaj",
                                
                                quantity: Number(number_ticket_C.value),
                            })
            }
                
                    
                    

                    stripe.redirectToCheckout({
                        lineItems,
                        mode: "payment",
                        successUrl: "https://filipebhenriques.github.io/Festa-do-Bucho/end.html",
                        cancelUrl: "https://filipebhenriques.github.io/Festa-do-Bucho/cancel.html",
                    })
                        .then(function (result) {
                            alert(result)
                        });
            })
        
        </script>

    </body>
</div>


</html>
